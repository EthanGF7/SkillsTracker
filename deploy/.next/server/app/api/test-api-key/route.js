"use strict";(()=>{var e={};e.id=59,e.ids=[59],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4775:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>u});var r={};o.r(r),o.d(r,{GET:()=>l});var s=o(3278),a=o(5002),n=o(4877),i=o(1309),p=o(9836);async function l(){let e=new Date().toISOString();try{let t;console.log("Iniciando prueba de API key...");let o=(0,p.dt)();if(!o.apiKey.present)return console.error("Error: API Key no configurada"),i.NextResponse.json({timestamp:e,status:"error",error:"API Key no configurada",details:{message:"No se encontr\xf3 la API key en las variables de entorno",solution:"Aseg\xfarate de tener un archivo .env.local con DEEPSEEK_API_KEY configurada",config:o}},{status:500,headers:{"Content-Type":"application/json","Cache-Control":"no-store"}});console.log("Preparando petici\xf3n a:",p.gd);let r={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.Hw}`,Accept:"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"user",content:"Test de conexi\xf3n: Por favor responde 'OK' si recibes este mensaje."}]})};console.log("Headers configurados:",JSON.stringify({...r.headers,Authorization:"Bearer [HIDDEN]"},null,2)),console.log("Enviando petici\xf3n...");let s=new Date().toISOString(),a=await fetch(`${p.gd}/v1/chat/completions`,r),n=new Date().toISOString();console.log("Respuesta recibida. Status:",a.status,a.statusText);let l=await a.text();console.log("Respuesta completa:",l);try{t=JSON.parse(l)}catch(t){return console.error("Error parseando la respuesta:",t),i.NextResponse.json({timestamp:e,status:"error",error:"Error parseando la respuesta",details:{message:"La respuesta de la API no es un JSON v\xe1lido",responseText:l,parseError:t instanceof Error?t.message:"Error desconocido",requestInfo:{url:`${p.gd}/v1/chat/completions`,method:r.method,headers:{...r.headers,Authorization:"Bearer [HIDDEN]"},startTime:s,endTime:n}}},{status:500,headers:{"Content-Type":"application/json","Cache-Control":"no-store"}})}if(!a.ok)return console.error("Error en la respuesta de la API:",t),i.NextResponse.json({timestamp:e,status:"error",error:"Error en la API",details:{statusCode:a.status,statusText:a.statusText,apiResponse:t,requestInfo:{url:`${p.gd}/v1/chat/completions`,method:r.method,headers:{...r.headers,Authorization:"Bearer [HIDDEN]"},startTime:s,endTime:n}}},{status:a.status,headers:{"Content-Type":"application/json","Cache-Control":"no-store"}});return console.log("Prueba completada con \xe9xito"),i.NextResponse.json({timestamp:e,status:"success",message:"API key v\xe1lida y funcionando correctamente",details:{apiConfig:{...o,apiKey:{...o.apiKey,value:"[HIDDEN]"}},request:{url:`${p.gd}/v1/chat/completions`,method:r.method,startTime:s,endTime:n,duration:new Date(n).getTime()-new Date(s).getTime()},response:{status:a.status,statusText:a.statusText,data:t}}},{headers:{"Content-Type":"application/json","Cache-Control":"no-store"}})}catch(t){return console.error("Error completo:",t),i.NextResponse.json({timestamp:e,status:"error",error:"Error inesperado",details:{message:t instanceof Error?t.message:"Error desconocido",stack:t instanceof Error?t.stack:void 0,name:t instanceof Error?t.name:void 0,config:(0,p.dt)()}},{status:500,headers:{"Content-Type":"application/json","Cache-Control":"no-store"}})}}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-api-key/route",pathname:"/api/test-api-key",filename:"route",bundlePath:"app/api/test-api-key/route"},resolvedPagePath:"C:\\Users\\ethan\\Downloads\\login-page (1) (3)\\login-page (1)\\app\\api\\test-api-key\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:u,serverHooks:m}=c,g="/api/test-api-key/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:u})}},9836:(e,t,o)=>{o.d(t,{Hw:()=>r,dt:()=>a,gd:()=>s});let r=process.env.DEEPSEEK_API_KEY||"",s="https://api.deepseek.com/v1/chat/completions";function a(){let e={apiKey:{present:!!r,length:r?.length||0,envVar:"DEEPSEEK_API_KEY"},apiUrl:s,environment:"production"};return console.log("Configuraci\xf3n de la API:",{...e,apiKey:{...e.apiKey,value:r?`${r.substring(0,4)}...${r.substring(r.length-4)}`:"no configurada"}}),r||console.error("⚠️ DEEPSEEK_API_KEY no est\xe1 configurado en las variables de entorno"),e}a()}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[140,833],()=>o(4775));module.exports=r})();